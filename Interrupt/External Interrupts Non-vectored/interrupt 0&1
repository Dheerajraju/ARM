//external interrupt 0&1 Non vectored falling edge
#include<LPC21XX.H>
#define LED0 1<<0
#define LED1 1<<1

void non_vectored_isr(void) __irq
{
	if((VICIRQStatus >> 14&1)==1)
	{
	EXTINT = 0x01;
	IOSET0 = LED0;
	IOCLR0 = LED0;
	VICVectAddr = 0;
}
else if((VICIRQStatus >> 15 &1)==1)
{
	EXTINT = 0x02;
	IOSET0 = LED1;
	IOCLR0 = LED1;
	VICVectAddr = 0;
}
}

int main()
{
	unsigned int cnt=0;
	PINSEL0 = 0x200000000;
	PINSEL1 = 0x01;
	IODIR0 = LED0 | LED1;
	VICDefVectAddr = (int)non_vectored_isr;
	VICIntSelect = 0;
	
	EXTMODE = 0x03;
	EXTPOLAR = 0x00;
	
	VICIntEnable = (1<<14) | (1<<15);
	while(1)
	{
		cnt++;
	}
}
	
