//selecting falling-edge
//slot0 eint0 and slot1 as eint1

#include<LPC21XX.H>
#define LED0 1<<0
#define LED1 1<<1

void ext_int0_isr(void) __irq
{
	EXTINT = 0x01; //to clear EINT0 flag
	IOSET0 = LED0;
	IOCLR0 = LED0;
	VICVectAddr = 0; //to indicate the end if isr
}

void ext_int1_isr(void) __irq
{
	EXTINT = 0x02; //to clear EINT1 flag
	IOSET0 = LED1;
	IOCLR0 = LED1;
	VICVectAddr = 0;
}

int main()
{
	int cnt=0;
	PINSEL0 = 0x200000000; //p0.14 is selected as EINT1 pin
	PINSEL1 = 0x01; //p0.16 is selected as EINT0 pin
	IODIR0 = LED0 | LED1;
	
	/*allocate solt-0 for EINT0 */
	VICVectCntl0 = (0x20) | 14;
	VICVectAddr0 = (int)ext_int0_isr;
	
	/*allocate slot1 for EINT1 */
	VICVectCntl1 = (0x20) |15;
	VICVectAddr1 = (int)ext_int1_isr;
	
	/* selecting triggering mode*/
	EXTMODE = 0x03;
	EXTPOLAR = 0x00;
	
	VICIntEnable = (1<<14) | (1<<15);
	while(1)
	{
		cnt++;
	}
}

	
